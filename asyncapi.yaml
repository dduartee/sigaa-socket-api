asyncapi: 3.0.0
info:
  title: SIGAA Socket API
  version: 1.0.20
  description: |
    API WebSocket para integração com o sistema SIGAA (Sistema Integrado de Gestão de Atividades Acadêmicas).
    Fornece acesso em tempo real a dados acadêmicos como vínculos, cursos, notas, atividades, tarefas e mais.
  contact:
    name: Gabriel Kleemann Duarte
    url: https://github.com/dduartee/sigaa-socket-api
  license:
    name: MIT
    url: https://github.com/dduartee/sigaa-socket-api/blob/main/LICENSE

defaultContentType: application/json

servers:
  production:
    host: '{host}:{port}'
    protocol: ws
    description: Servidor WebSocket de produção
    variables:
      host:
        default: localhost
        description: Host do servidor
      port:
        default: '5000'
        description: Porta do servidor WebSocket
    tags:
      - name: production
        description: Ambiente de produção
      - name: kind:remote
        description: Servidor remoto
      - name: visibility:public
        description: Recurso público disponível para todos
  development:
    host: '{host}:{port}'
    protocol: ws
    description: Servidor WebSocket de desenvolvimento
    variables:
      host:
        default: localhost
        description: Host do servidor
      port:
        default: '5000'
        description: Porta do servidor WebSocket
    tags:
      - name: development
        description: Ambiente de desenvolvimento
      - name: kind:local
        description: Servidor local
      - name: visibility:private
        description: Recurso privado restrito

channels:
  authValid:
    address: auth::valid
    description: Canal para validação de token JWT
    messages:
      AuthValidRequest:
        $ref: '#/components/messages/AuthValidRequest'
      AuthValidResponse:
        $ref: '#/components/messages/AuthValidResponse'

  userLogin:
    address: user::login
    description: Canal para autenticação de usuário no SIGAA
    messages:
      UserLoginRequest:
        $ref: '#/components/messages/UserLoginRequest'
      UserLoginResponse:
        $ref: '#/components/messages/UserLoginResponse'

  userInfo:
    address: user::info
    description: Canal para obter informações do usuário autenticado
    messages:
      EmptyRequest:
        $ref: '#/components/messages/EmptyRequest'
      UserInfoResponse:
        $ref: '#/components/messages/UserInfoResponse'

  userLogoff:
    address: user::logoff
    description: Canal para encerrar sessão do usuário
    messages:
      EmptyRequest:
        $ref: '#/components/messages/EmptyRequest'

  userStatus:
    address: user::status
    description: Canal para receber atualizações de status do usuário
    messages:
      UserStatusUpdate:
        $ref: '#/components/messages/UserStatusUpdate'

  bondsList:
    address: bonds::list
    description: Canal para listar vínculos acadêmicos do usuário
    messages:
      BondsListRequest:
        $ref: '#/components/messages/BondsListRequest'
      BondsListResponse:
        $ref: '#/components/messages/BondsListResponse'

  coursesList:
    address: courses::list
    description: Canal para listar cursos/disciplinas de um vínculo
    messages:
      CoursesListRequest:
        $ref: '#/components/messages/CoursesListRequest'
      CoursesListResponse:
        $ref: '#/components/messages/CoursesListResponse'

  gradesList:
    address: grades::list
    description: Canal para listar notas de um vínculo
    messages:
      GradesListRequest:
        $ref: '#/components/messages/GradesListRequest'
      GradesListResponse:
        $ref: '#/components/messages/GradesListResponse'

  activitiesList:
    address: activities::list
    description: Canal para listar atividades pendentes de um vínculo
    messages:
      ActivitiesListRequest:
        $ref: '#/components/messages/ActivitiesListRequest'
      ActivitiesListResponse:
        $ref: '#/components/messages/ActivitiesListResponse'

  absencesList:
    address: absences::list
    description: Canal para listar faltas de um vínculo
    messages:
      AbsencesListRequest:
        $ref: '#/components/messages/AbsencesListRequest'
      AbsencesListResponse:
        $ref: '#/components/messages/AbsencesListResponse'

  homeworkContent:
    address: homework::content
    description: Canal para obter conteúdo detalhado de uma tarefa
    messages:
      HomeworkContentRequest:
        $ref: '#/components/messages/HomeworkContentRequest'
      HomeworkContentResponse:
        $ref: '#/components/messages/HomeworkContentResponse'

  lessonsList:
    address: lessons::list
    description: Canal para listar aulas de uma disciplina
    messages:
      LessonsListRequest:
        $ref: '#/components/messages/LessonsListRequest'
      LessonsListResponse:
        $ref: '#/components/messages/LessonsListResponse'

  newsList:
    address: news::list
    description: Canal para listar notícias de uma disciplina
    messages:
      NewsListRequest:
        $ref: '#/components/messages/NewsListRequest'
      NewsListResponse:
        $ref: '#/components/messages/NewsListResponse'

  syllabusContent:
    address: syllabus::content
    description: Canal para obter plano de ensino de uma disciplina
    messages:
      SyllabusContentRequest:
        $ref: '#/components/messages/SyllabusContentRequest'
      SyllabusContentResponse:
        $ref: '#/components/messages/SyllabusContentResponse'

  institutionsList:
    address: institutions::list
    description: Canal para listar instituições compatíveis
    messages:
      InstitutionsListRequest:
        $ref: '#/components/messages/InstitutionsListRequest'
      InstitutionsListResponse:
        $ref: '#/components/messages/InstitutionsListResponse'

  apiError:
    address: api::error
    description: Canal para receber erros da API
    messages:
      ApiErrorMessage:
        $ref: '#/components/messages/ApiErrorMessage'

operations:
  validateAuth:
    action: receive
    channel:
      $ref: '#/channels/authValid'
    summary: Valida token JWT
    description: Recebe requisição para validar token de autenticação JWT
    messages:
      - $ref: '#/channels/authValid/messages/AuthValidRequest'
    reply:
      channel:
        $ref: '#/channels/authValid'
      messages:
        - $ref: '#/channels/authValid/messages/AuthValidResponse'

  loginUser:
    action: receive
    channel:
      $ref: '#/channels/userLogin'
    summary: Autentica usuário
    description: Recebe credenciais e autentica usuário no SIGAA
    messages:
      - $ref: '#/channels/userLogin/messages/UserLoginRequest'
    reply:
      channel:
        $ref: '#/channels/userLogin'
      messages:
        - $ref: '#/channels/userLogin/messages/UserLoginResponse'

  getUserInfo:
    action: receive
    channel:
      $ref: '#/channels/userInfo'
    summary: Obtém informações do usuário
    description: Recebe requisição para obter dados do usuário autenticado
    messages:
      - $ref: '#/channels/userInfo/messages/EmptyRequest'
    reply:
      channel:
        $ref: '#/channels/userInfo'
      messages:
        - $ref: '#/channels/userInfo/messages/UserInfoResponse'

  logoffUser:
    action: receive
    channel:
      $ref: '#/channels/userLogoff'
    summary: Encerra sessão
    description: Encerra a sessão do usuário autenticado
    messages:
      - $ref: '#/channels/userLogoff/messages/EmptyRequest'

  sendUserStatus:
    action: send
    channel:
      $ref: '#/channels/userStatus'
    summary: Envia status do usuário
    description: Envia atualizações sobre o status de autenticação do usuário
    messages:
      - $ref: '#/channels/userStatus/messages/UserStatusUpdate'

  getBondsList:
    action: receive
    channel:
      $ref: '#/channels/bondsList'
    summary: Lista vínculos
    description: Recebe requisição para listar todos os vínculos acadêmicos do usuário
    messages:
      - $ref: '#/channels/bondsList/messages/BondsListRequest'
    reply:
      channel:
        $ref: '#/channels/bondsList'
      messages:
        - $ref: '#/channels/bondsList/messages/BondsListResponse'

  getCoursesList:
    action: receive
    channel:
      $ref: '#/channels/coursesList'
    summary: Lista disciplinas
    description: Recebe requisição para listar disciplinas de um vínculo específico
    messages:
      - $ref: '#/channels/coursesList/messages/CoursesListRequest'
    reply:
      channel:
        $ref: '#/channels/coursesList'
      messages:
        - $ref: '#/channels/coursesList/messages/CoursesListResponse'

  getGradesList:
    action: receive
    channel:
      $ref: '#/channels/gradesList'
    summary: Lista notas
    description: Recebe requisição para listar notas de todas as disciplinas de um vínculo
    messages:
      - $ref: '#/channels/gradesList/messages/GradesListRequest'
    reply:
      channel:
        $ref: '#/channels/gradesList'
      messages:
        - $ref: '#/channels/gradesList/messages/GradesListResponse'

  getActivitiesList:
    action: receive
    channel:
      $ref: '#/channels/activitiesList'
    summary: Lista atividades
    description: Recebe requisição para listar atividades pendentes de um vínculo
    messages:
      - $ref: '#/channels/activitiesList/messages/ActivitiesListRequest'
    reply:
      channel:
        $ref: '#/channels/activitiesList'
      messages:
        - $ref: '#/channels/activitiesList/messages/ActivitiesListResponse'

  getAbsencesList:
    action: receive
    channel:
      $ref: '#/channels/absencesList'
    summary: Lista faltas
    description: Recebe requisição para listar faltas de todas as disciplinas de um vínculo
    messages:
      - $ref: '#/channels/absencesList/messages/AbsencesListRequest'
    reply:
      channel:
        $ref: '#/channels/absencesList'
      messages:
        - $ref: '#/channels/absencesList/messages/AbsencesListResponse'

  getHomeworkContent:
    action: receive
    channel:
      $ref: '#/channels/homeworkContent'
    summary: Obtém conteúdo de tarefa
    description: Recebe requisição para obter detalhes completos de uma tarefa específica
    messages:
      - $ref: '#/channels/homeworkContent/messages/HomeworkContentRequest'
    reply:
      channel:
        $ref: '#/channels/homeworkContent'
      messages:
        - $ref: '#/channels/homeworkContent/messages/HomeworkContentResponse'

  getLessonsList:
    action: receive
    channel:
      $ref: '#/channels/lessonsList'
    summary: Lista aulas
    description: Recebe requisição para listar aulas de uma disciplina específica
    messages:
      - $ref: '#/channels/lessonsList/messages/LessonsListRequest'
    reply:
      channel:
        $ref: '#/channels/lessonsList'
      messages:
        - $ref: '#/channels/lessonsList/messages/LessonsListResponse'

  getNewsList:
    action: receive
    channel:
      $ref: '#/channels/newsList'
    summary: Lista notícias
    description: Recebe requisição para listar notícias de uma disciplina específica
    messages:
      - $ref: '#/channels/newsList/messages/NewsListRequest'
    reply:
      channel:
        $ref: '#/channels/newsList'
      messages:
        - $ref: '#/channels/newsList/messages/NewsListResponse'

  getSyllabusContent:
    action: receive
    channel:
      $ref: '#/channels/syllabusContent'
    summary: Obtém plano de ensino
    description: Recebe requisição para obter plano de ensino de uma disciplina específica
    messages:
      - $ref: '#/channels/syllabusContent/messages/SyllabusContentRequest'
    reply:
      channel:
        $ref: '#/channels/syllabusContent'
      messages:
        - $ref: '#/channels/syllabusContent/messages/SyllabusContentResponse'

  getInstitutionsList:
    action: receive
    channel:
      $ref: '#/channels/institutionsList'
    summary: Lista instituições
    description: Recebe requisição para listar todas as instituições de ensino compatíveis
    messages:
      - $ref: '#/channels/institutionsList/messages/InstitutionsListRequest'
    reply:
      channel:
        $ref: '#/channels/institutionsList'
      messages:
        - $ref: '#/channels/institutionsList/messages/InstitutionsListResponse'

  sendApiError:
    action: send
    channel:
      $ref: '#/channels/apiError'
    summary: Envia erro
    description: Envia mensagens de erro quando ocorrem problemas na API
    messages:
      - $ref: '#/channels/apiError/messages/ApiErrorMessage'

components:
  messages:
    EmptyRequest:
      name: EmptyRequest
      title: Requisição Vazia
      summary: Mensagem de requisição sem payload
      payload:
        $ref: '#/components/schemas/EmptyPayload'

    AuthValidRequest:
      name: AuthValidRequest
      title: Validação de Autenticação
      summary: Requisição para validar token JWT
      payload:
        $ref: '#/components/schemas/AuthValidRequestPayload'

    AuthValidResponse:
      name: AuthValidResponse
      title: Resposta de Validação
      summary: Resposta da validação de token
      payload:
        $ref: '#/components/schemas/AuthValidResponsePayload'

    UserLoginRequest:
      name: UserLoginRequest
      title: Requisição de Login
      summary: Credenciais para autenticação no SIGAA
      payload:
        $ref: '#/components/schemas/LoginParams'

    UserLoginResponse:
      name: UserLoginResponse
      title: Resposta de Login
      summary: Resultado da tentativa de autenticação
      payload:
        $ref: '#/components/schemas/UserLoginResponsePayload'

    UserInfoResponse:
      name: UserInfoResponse
      title: Informações do Usuário
      summary: Dados completos do usuário autenticado
      payload:
        $ref: '#/components/schemas/Student'

    UserStatusUpdate:
      name: UserStatusUpdate
      title: Atualização de Status
      summary: Status atual da autenticação do usuário
      payload:
        $ref: '#/components/schemas/UserStatusUpdatePayload'

    BondsListRequest:
      name: BondsListRequest
      title: Requisição de Vínculos
      summary: Parâmetros para listagem de vínculos
      payload:
        $ref: '#/components/schemas/BondsListRequestPayload'

    BondsListResponse:
      name: BondsListResponse
      title: Lista de Vínculos
      summary: Array de vínculos acadêmicos
      payload:
        $ref: '#/components/schemas/BondsListResponsePayload'

    CoursesListRequest:
      name: CoursesListRequest
      title: Requisição de Disciplinas
      summary: Parâmetros para listagem de disciplinas
      payload:
        $ref: '#/components/schemas/CoursesListRequestPayload'

    CoursesListResponse:
      name: CoursesListResponse
      title: Vínculo com Disciplinas
      summary: Vínculo contendo lista de disciplinas
      payload:
        $ref: '#/components/schemas/Bond'

    GradesListRequest:
      name: GradesListRequest
      title: Requisição de Notas
      summary: Parâmetros para listagem de notas
      payload:
        $ref: '#/components/schemas/GradesListRequestPayload'

    GradesListResponse:
      name: GradesListResponse
      title: Vínculo com Notas
      summary: Vínculo contendo notas de todas as disciplinas
      payload:
        $ref: '#/components/schemas/Bond'

    ActivitiesListRequest:
      name: ActivitiesListRequest
      title: Requisição de Atividades
      summary: Parâmetros para listagem de atividades
      payload:
        $ref: '#/components/schemas/ActivitiesListRequestPayload'

    ActivitiesListResponse:
      name: ActivitiesListResponse
      title: Vínculo com Atividades
      summary: Vínculo contendo lista de atividades pendentes
      payload:
        $ref: '#/components/schemas/Bond'

    AbsencesListRequest:
      name: AbsencesListRequest
      title: Requisição de Faltas
      summary: Parâmetros para listagem de faltas
      payload:
        $ref: '#/components/schemas/AbsencesListRequestPayload'

    AbsencesListResponse:
      name: AbsencesListResponse
      title: Vínculo com Faltas
      summary: Vínculo contendo faltas de todas as disciplinas
      payload:
        $ref: '#/components/schemas/Bond'

    HomeworkContentRequest:
      name: HomeworkContentRequest
      title: Requisição de Tarefa
      summary: Parâmetros para obter conteúdo de uma tarefa
      payload:
        $ref: '#/components/schemas/HomeworkContentRequestPayload'

    HomeworkContentResponse:
      name: HomeworkContentResponse
      title: Conteúdo da Tarefa
      summary: Detalhes completos de uma tarefa
      payload:
        $ref: '#/components/schemas/Homework'

    LessonsListRequest:
      name: LessonsListRequest
      title: Requisição de Aulas
      summary: Parâmetros para listagem de aulas
      payload:
        $ref: '#/components/schemas/LessonsListRequestPayload'

    LessonsListResponse:
      name: LessonsListResponse
      title: Lista de Aulas
      summary: Array de aulas da disciplina
      payload:
        $ref: '#/components/schemas/LessonsListResponsePayload'

    NewsListRequest:
      name: NewsListRequest
      title: Requisição de Notícias
      summary: Parâmetros para listagem de notícias
      payload:
        $ref: '#/components/schemas/NewsListRequestPayload'

    NewsListResponse:
      name: NewsListResponse
      title: Lista de Notícias
      summary: Array de notícias da disciplina
      payload:
        $ref: '#/components/schemas/NewsListResponsePayload'

    SyllabusContentRequest:
      name: SyllabusContentRequest
      title: Requisição de Plano de Ensino
      summary: Parâmetros para obter plano de ensino
      payload:
        $ref: '#/components/schemas/SyllabusContentRequestPayload'

    SyllabusContentResponse:
      name: SyllabusContentResponse
      title: Plano de Ensino
      summary: Plano de ensino completo da disciplina
      payload:
        $ref: '#/components/schemas/Syllabus'

    InstitutionsListRequest:
      name: InstitutionsListRequest
      title: Requisição de Instituições
      summary: Parâmetros para listagem de instituições
      payload:
        $ref: '#/components/schemas/EmptyPayload'

    InstitutionsListResponse:
      name: InstitutionsListResponse
      title: Lista de Instituições
      summary: Array de instituições de ensino compatíveis
      payload:
        $ref: '#/components/schemas/InstitutionsListResponsePayload'

    ApiErrorMessage:
      name: ApiErrorMessage
      title: Mensagem de Erro
      summary: Erro ocorrido durante processamento
      payload:
        $ref: '#/components/schemas/ApiErrorMessagePayload'

  schemas:
    EmptyPayload:
      type: object
      description: Payload vazio
      properties: {}

    AuthValidRequestPayload:
      type: object
      description: Requisição para validar token JWT
      properties:
        token:
          type: string
          description: Token JWT a ser validado
      required:
        - token

    AuthValidResponsePayload:
      type: object
      description: Resposta da validação de token
      properties:
        valid:
          type: boolean
          description: Indica se o token é válido
        uniqueID:
          type: string
          description: ID único do usuário se o token for válido

    UserLoginResponsePayload:
      type: object
      description: Resultado da tentativa de autenticação
      properties:
        logado:
          type: boolean
          description: Indica se o login foi bem-sucedido
        error:
          type: string
          description: Mensagem de erro caso o login falhe
      required:
        - logado

    UserStatusUpdatePayload:
      type: object
      description: Status atual do usuário
      properties:
        status:
          type: string
          enum:
            - Logando
            - Logado
            - Deslogado
          description: Status da autenticação

    BondsListRequestPayload:
      type: object
      description: Parâmetros para listagem de vínculos
      properties:
        inactive:
          type: boolean
          description: Incluir vínculos inativos
          default: false
        cache:
          type: boolean
          description: Usar cache se disponível
          default: true

    CoursesListRequestPayload:
      type: object
      description: Parâmetros para listagem de disciplinas
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        inactive:
          type: boolean
          description: Incluir disciplinas inativas
          default: false
        allPeriods:
          type: boolean
          description: Incluir todos os períodos
          default: false
        cache:
          type: boolean
          description: Usar cache se disponível
          default: true
      required:
        - registration

    GradesListRequestPayload:
      type: object
      description: Parâmetros para listagem de notas
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        inactive:
          type: boolean
          description: Incluir disciplinas inativas
          default: false
        allPeriods:
          type: boolean
          description: Incluir todos os períodos
          default: false
        cache:
          type: boolean
          description: Usar cache se disponível
          default: true
      required:
        - registration

    ActivitiesListRequestPayload:
      type: object
      description: Parâmetros para listagem de atividades
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        inactive:
          type: boolean
          description: Incluir atividades antigas
          default: false
        cache:
          type: boolean
          description: Usar cache se disponível
          default: true
      required:
        - registration

    AbsencesListRequestPayload:
      type: object
      description: Parâmetros para listagem de faltas
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        inactive:
          type: boolean
          description: Incluir disciplinas inativas
          default: false
        allPeriods:
          type: boolean
          description: Incluir todos os períodos
          default: false
        cache:
          type: boolean
          description: Usar cache se disponível
          default: true
      required:
        - registration

    HomeworkContentRequestPayload:
      type: object
      description: Parâmetros para obter conteúdo de uma tarefa
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        courseTitle:
          type: string
          description: Título da disciplina
        homeworkId:
          type: string
          description: ID da tarefa
        homeworkTitle:
          type: string
          description: Título da tarefa
        inactive:
          type: boolean
          default: false
        cache:
          type: boolean
          default: true
      required:
        - registration
        - courseTitle

    LessonsListRequestPayload:
      type: object
      description: Parâmetros para listagem de aulas
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        courseId:
          type: string
          description: ID da disciplina
        inactive:
          type: boolean
          default: false
        allPeriods:
          type: boolean
          default: false
        cache:
          type: boolean
          default: true
      required:
        - registration
        - courseId

    NewsListRequestPayload:
      type: object
      description: Parâmetros para listagem de notícias
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        courseId:
          type: string
          description: ID da disciplina
        full:
          type: boolean
          description: Incluir conteúdo completo das notícias
          default: false
        inactive:
          type: boolean
          default: false
        cache:
          type: boolean
          default: true
      required:
        - registration
        - courseId

    SyllabusContentRequestPayload:
      type: object
      description: Parâmetros para obter plano de ensino
      properties:
        registration:
          type: string
          description: Matrícula do vínculo
        courseId:
          type: string
          description: ID da disciplina
        inactive:
          type: boolean
          default: false
        cache:
          type: boolean
          default: true
      required:
        - registration
        - courseId

    ApiErrorMessagePayload:
      type: object
      description: Erro ocorrido durante processamento
      properties:
        error:
          type: string
          description: Descrição do erro

    LoginParams:
      type: object
      description: Parâmetros de autenticação no SIGAA
      properties:
        username:
          type: string
          description: Nome de usuário
        password:
          type: string
          description: Senha do usuário
        institution:
          type: string
          description: Acrônimo da instituição (ex. IFSC, UnB)
      required:
        - username
        - institution

    Student:
      type: object
      description: Informações completas do estudante
      properties:
        username:
          type: string
          description: Nome de usuário
        fullName:
          type: string
          description: Nome completo
        emails:
          type: array
          items:
            type: string
          description: Lista de e-mails
        profilePictureURL:
          type: string
          description: URL da foto de perfil
        bonds:
          type: array
          items:
            $ref: '#/components/schemas/Bond'
          description: Vínculos acadêmicos

    Bond:
      type: object
      description: Vínculo acadêmico do estudante
      properties:
        program:
          type: string
          description: Nome do programa/curso
        registration:
          type: string
          description: Número de matrícula
        type:
          type: string
          description: Tipo de vínculo
        sequence:
          type: integer
          description: Sequência do vínculo
        active:
          type: boolean
          description: Indica se o vínculo está ativo
        period:
          type: string
          description: Período letivo atual
        activities:
          type: array
          items:
            $ref: '#/components/schemas/Activity'
          description: Atividades pendentes
        courses:
          type: array
          items:
            $ref: '#/components/schemas/Course'
          description: Disciplinas do vínculo

    Course:
      type: object
      description: Disciplina/Turma acadêmica
      properties:
        id:
          type: string
          description: ID único da disciplina
        title:
          type: string
          description: Nome da disciplina
        code:
          type: string
          description: Código da disciplina
        schedule:
          type: string
          description: Horário das aulas
        period:
          type: string
          description: Período letivo
        numberOfStudents:
          type: integer
          description: Número de alunos matriculados
        postValues:
          type: string
          description: Valores de formulário para requisições
        grades:
          type: array
          items:
            $ref: '#/components/schemas/GradeGroup'
          description: Grupos de notas
        news:
          type: array
          items:
            $ref: '#/components/schemas/News'
          description: Notícias da disciplina
        homeworks:
          type: array
          items:
            $ref: '#/components/schemas/Homework'
          description: Tarefas da disciplina
        absences:
          $ref: '#/components/schemas/Absences'
          description: Faltas da disciplina
        lessons:
          type: array
          items:
            $ref: '#/components/schemas/Lesson'
          description: Aulas da disciplina
        syllabus:
          $ref: '#/components/schemas/Syllabus'
          description: Plano de ensino

    Activity:
      type: object
      description: Atividade acadêmica pendente
      properties:
        id:
          type: string
          description: ID da atividade
        title:
          type: string
          description: Título da atividade
        type:
          type: string
          enum:
            - exam
            - homework
            - quiz
          description: Tipo de atividade
        date:
          type: string
          format: date-time
          description: Data da atividade
        done:
          type: boolean
          description: Indica se foi concluída
        course:
          type: object
          properties:
            title:
              type: string
          description: Disciplina relacionada

    GradeGroup:
      type: object
      description: Grupo de notas de uma disciplina
      properties:
        type:
          type: string
          enum:
            - sum-of-grades
            - only-average
            - weighted-average
            - arithmetic-average
          description: Tipo de cálculo das notas
        value:
          type: number
          description: Valor da nota final
        name:
          type: string
          description: Nome do grupo de notas
        subGrades:
          type: array
          items:
            $ref: '#/components/schemas/SubGrade'
          description: Subnotas que compõem o grupo

    SubGrade:
      type: object
      description: Subnota individual
      properties:
        name:
          type: string
          description: Nome da avaliação
        value:
          type: number
          description: Nota obtida
        maxValue:
          type: number
          description: Nota máxima possível
        weight:
          type: number
          description: Peso da avaliação

    Homework:
      type: object
      description: Tarefa/Atividade acadêmica
      properties:
        id:
          type: string
          description: ID da tarefa
        title:
          type: string
          description: Título da tarefa
        content:
          type: string
          description: Descrição/conteúdo da tarefa
        startDate:
          type: string
          format: date-time
          description: Data de início
        endDate:
          type: string
          format: date-time
          description: Data de entrega
        haveGrade:
          type: boolean
          description: Indica se possui nota
        isGroup:
          type: boolean
          description: Indica se é em grupo
        attachment:
          $ref: '#/components/schemas/FileAttachment'
          description: Arquivo anexo

    Absences:
      type: object
      description: Registro de faltas de uma disciplina
      properties:
        list:
          type: array
          items:
            type: object
            properties:
              date:
                type: string
                format: date-time
                description: Data da falta
              numOfAbsences:
                type: integer
                description: Número de faltas
          description: Lista de faltas por data
        total:
          type: integer
          description: Total de faltas
        max:
          type: integer
          description: Máximo de faltas permitidas

    Lesson:
      type: object
      description: Aula/Conteúdo didático
      properties:
        id:
          type: string
          description: ID da aula
        title:
          type: string
          description: Título da aula
        content:
          type: string
          description: Conteúdo textual
        startDate:
          type: string
          format: date-time
          description: Data de início
        endDate:
          type: string
          format: date-time
          description: Data de término
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/Attachment'
          description: Anexos da aula

    News:
      type: object
      description: Notícia da disciplina
      properties:
        id:
          type: string
          description: ID da notícia
        title:
          type: string
          description: Título da notícia
        date:
          type: string
          format: date-time
          description: Data de publicação
        content:
          type: string
          description: Conteúdo completo

    Syllabus:
      type: object
      description: Plano de ensino da disciplina
      properties:
        methods:
          type: string
          description: Metodologia de ensino
        assessmentProcedures:
          type: string
          description: Procedimentos de avaliação
        attendanceSchedule:
          type: string
          description: Horário de atendimento
        schedule:
          type: array
          items:
            type: object
            properties:
              description:
                type: string
                description: Descrição do conteúdo
              startDate:
                type: string
                format: date-time
                description: Data de início
              endDate:
                type: string
                format: date-time
                description: Data de término
          description: Cronograma de aulas
        exams:
          type: array
          items:
            type: object
            properties:
              description:
                type: string
                description: Descrição da avaliação
              date:
                type: string
                format: date-time
                description: Data da avaliação
          description: Calendário de avaliações
        references:
          type: object
          properties:
            basic:
              type: array
              items:
                type: object
                properties:
                  type:
                    type: string
                  description:
                    type: string
              description: Referências básicas
            supplementary:
              type: array
              items:
                type: object
                properties:
                  type:
                    type: string
                  description:
                    type: string
              description: Referências complementares

    Institution:
      type: object
      description: Instituição de ensino compatível
      properties:
        name:
          type: string
          description: Nome completo da instituição
        acronym:
          type: string
          description: Sigla/acrônimo da instituição
        url:
          type: string
          format: uri
          description: URL do sistema SIGAA da instituição

    FileAttachment:
      type: object
      description: Arquivo anexo
      properties:
        name:
          type: string
          description: Nome do arquivo
        url:
          type: string
          format: uri
          description: URL para download
        size:
          type: integer
          description: Tamanho em bytes
        type:
          type: string
          description: Tipo MIME do arquivo

    Attachment:
      type: object
      description: Anexo genérico de aula
      properties:
        id:
          type: string
          description: ID do anexo
        title:
          type: string
          description: Título do anexo
        type:
          type: string
          enum:
            - file
            - link
            - hyperlink
            - video
            - forum
            - quiz
            - survey
            - web-content
          description: Tipo de anexo
        description:
          type: string
          description: Descrição do anexo

    BondsListResponsePayload:
      type: object
      properties:
        bonds:
          type: array
          items:
            $ref: '#/components/schemas/Bond'
      description: Resposta contendo lista de vínculos

    LessonsListResponsePayload:
      type: object
      properties:
        lessons:
          type: array
          items:
            $ref: '#/components/schemas/Lesson'
      description: Resposta contendo lista de aulas

    NewsListResponsePayload:
      type: object
      properties:
        news:
          type: array
          items:
            $ref: '#/components/schemas/News'
      description: Resposta contendo lista de notícias

    InstitutionsListResponsePayload:
      type: object
      properties:
        institutions:
          type: array
          items:
            $ref: '#/components/schemas/Institution'
      description: Resposta contendo lista de instituições

  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        Autenticação via token JWT.
        O token deve ser enviado no cabeçalho Authorization como Bearer token.
        Obtenha o token através do evento 'auth::valid' após fazer login.
    oauth2:
      type: oauth2
      description: Fluxos suportados para OAuth 2.0
      flows:
        clientCredentials:
          tokenUrl: 'https://sigaa.example/token'
          availableScopes:
            'read:bonds': Leitura de vínculos acadêmicos
            'read:courses': Leitura de disciplinas
            'read:grades': Leitura de notas
            'read:activities': Leitura de atividades
            'read:absences': Leitura de faltas
            'read:lessons': Leitura de aulas
            'read:news': Leitura de notícias
            'read:syllabus': Leitura do plano de ensino
        authorizationCode:
          authorizationUrl: 'https://sigaa.example/auth'
          tokenUrl: 'https://sigaa.example/token'
          refreshUrl: 'https://sigaa.example/refresh'
          availableScopes:
            'read:bonds': Leitura de vínculos acadêmicos
            'read:courses': Leitura de disciplinas
            'read:grades': Leitura de notas
            'read:activities': Leitura de atividades
            'read:absences': Leitura de faltas
            'read:lessons': Leitura de aulas
            'read:news': Leitura de notícias
            'read:syllabus': Leitura do plano de ensino
